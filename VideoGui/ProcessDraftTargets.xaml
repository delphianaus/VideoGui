<Window x:Class="VideoGui.ProcessDraftTargets"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VideoGui" Loaded="Window_Loaded"
        xmlns:MSU="clr-namespace:CustomComponents.ListBoxExtensions;assembly=CustomComponents"
        SizeChanged="Window_SizeChanged"
        ResizeMode="CanResize" WindowStartupLocation="CenterScreen" 
        WindowStyle="ToolWindow"
        mc:Ignorable="d" 
        Title="ProcessDraftTargets"  Height="370" Width="724">
    <Window.Resources>
        <BitmapImage x:Key="SET" UriSource="icons/set.png"/>
        <BitmapImage x:Key="EDIT" UriSource="icons/edit.png"/>
        <Style x:Key="ToggleSetEditStyle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Height" Value="23"/>
            <Setter Property="Width" Value="45"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Image x:Name="PART_Image"  />
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="PART_Image" Property="Source" Value="{StaticResource EDIT}"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter TargetName="PART_Image" Property="Source" Value="{StaticResource SET}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <ScrollViewer x:Name="MainScroller" VerticalScrollBarVisibility="Hidden" 
           HorizontalScrollBarVisibility="Disabled" HorizontalAlignment="Left" VerticalAlignment="Top">
        <Grid Margin="0,0,0,0" x:Name="MainGrid" HorizontalAlignment="Left" VerticalAlignment="Top" Width="723" Height="349">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Loading Panel -->
                <RowDefinition Height="Auto"/>
                <!-- Main Content -->
            </Grid.RowDefinitions>
            <Canvas x:Name="LoadingPanel" Height="349" d:Height="0" 
            HorizontalAlignment="Center" Width="723" 
            VerticalAlignment="Top">
                <TextBlock Text="Loading..." FontSize="24" Canvas.Left="311.5" Canvas.Top="141"/>
                <ProgressBar IsIndeterminate="True" Width="200" Height="20" HorizontalAlignment="Left" Canvas.Top="178" 
                         VerticalAlignment="Center" Canvas.Left="261.5"/>
            </Canvas>
            <Canvas x:Name="MainContent" Grid.Row="1" Height="349" 
                HorizontalAlignment="Center" Width="723" VerticalAlignment="Top">
                <MSU:MultiListbox x:Name="msuTargets" ItemHeight="15"
                  Header="Drafts" Width="723" Canvas.Top="3" 
                  VerticalAlignment="Top" VerticalContentAlignment="Bottom" 
                   BorderBrush="Black" BorderThickness="2" Height="289" 
                   HorizontalAlignment="Center" Canvas.Left="0" SelectionMode="Multiple">
                    <MSU:MultiListbox.ColumnDefinitions>
                        <MSU:MultiListboxColumnDefinition DataField="Id" Width="0" ComponentType="TextBlock"/>
                        <MSU:MultiListboxColumnDefinition DataField="Title" WidthBinding="TitleWidth"
                     ContentVerticalAlignment="Top" HeaderText="Title" ComponentType="TextBlock"/>
                        <MSU:MultiListboxColumnDefinition HeaderText="    Title" Width="50" 
                           Style="{StaticResource ToggleSetEditStyle}" 
                           Click="Title_ToggleButtonClick" DataField="IsTitleAvailable" ComponentType="ToggleButton"/>
                        <MSU:MultiListboxColumnDefinition HeaderText="    Desc" Width="50"
                         Click="Desc_ToggleButtonClick" Style="{StaticResource ToggleSetEditStyle}"
                          DataField="IsDescAvailable" ComponentType="ToggleButton"/>
                    </MSU:MultiListbox.ColumnDefinitions>
                </MSU:MultiListbox>
                <Canvas x:Name="brdt2" Canvas.Left="631" Canvas.Top="60"/>
                <Border x:Name="brdControls" BorderBrush="Black" BorderThickness="2" Height="54" RenderTransformOrigin="0.5,0.5" VerticalAlignment="Bottom" Margin="4,0,4,3" Canvas.Top="295" Width="717">
                    <Canvas x:Name="cnvcontrols" Margin="0,0,0,0" VerticalAlignment="Top">
                        <Button x:Name="BtnClose" Content="Close" Width="90" Height="30" Click="btnClose_Click" HorizontalAlignment="Center" Canvas.Left="609" Canvas.Top="10" VerticalAlignment="Top" RenderTransformOrigin="0.556,0.446"/>
                    </Canvas>
                </Border>
            </Canvas>
        </Grid>
    </ScrollViewer>
</Window>
