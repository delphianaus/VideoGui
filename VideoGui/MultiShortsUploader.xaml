<Window x:Name="frmMultiShortsUploader" x:Class="VideoGui.MultiShortsUploader"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VideoGui" Loaded="Window_Loaded"
        xmlns:MSU="clr-namespace:CustomComponents.ListBoxExtensions;assembly=CustomComponents"
        SizeChanged="Window_SizeChanged" WindowStyle="ToolWindow"
        mc:Ignorable="d" WindowStartupLocation="Manual" 
        Title="Multi Shorts Uploader" Height="439" Width="559">
    <Window.Resources>
        <BitmapImage x:Key="SET" UriSource="icons/set.png"/>
        <BitmapImage x:Key="EDIT" UriSource="icons/edit.png"/>
        <Style x:Key="ToggleSetEditStyle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Height" Value="23"/>
            <Setter Property="Width" Value="45"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Image x:Name="PART_Image"  />
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="true">
                                <Setter TargetName="PART_Image" Property="Source" Value="{StaticResource EDIT}"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter TargetName="PART_Image" Property="Source" Value="{StaticResource SET}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid Margin="0,0,0,3">
        <MSU:MultiListbox x:Name="msuShorts" Header="Active Shorts Directory" 
           BorderBrush="Black" BorderThickness="2" Height="189" VerticalAlignment="Top" Width="558" Margin="0,0,1,0">
            <MSU:MultiListbox.ColumnDefinitions>
                <MSU:MultiListboxColumnDefinition HeaderText="Shorts Directory" 
                    ContentMargin="0,0,0,0"
                   DataField="DirectoryName" Width="400" ComponentType="TextBlock"/>
                <MSU:MultiListboxColumnDefinition HeaderText="Number Of Shorts"
                   ContentHorizontalAlignment="Center"  ContentMargin="0,0,0,0" 
                   DataField="NumberOfShorts" Width="105" ComponentType="TextBlock"/>
            </MSU:MultiListbox.ColumnDefinitions>
            <MSU:MultiListbox.ItemsContextMenu>
                <ContextMenu>
                    <MenuItem Header="Move Directory" Click="mnuMoveDirectory_Click"/>
                    <MenuItem Header="Add to Selected Directories" Click="mnuAddToSelected_Click"/>
                </ContextMenu>
            </MSU:MultiListbox.ItemsContextMenu>
        </MSU:MultiListbox>
        <MSU:MultiListbox x:Name="msuSchedules" Header="Active Schedules" Width="558"
             VerticalAlignment="Top"  VerticalContentAlignment="Bottom" 
          Margin="0,193,0,0" BorderBrush="Black" BorderThickness="2" Height="197">
            <MSU:MultiListbox.ColumnDefinitions>
                <MSU:MultiListboxColumnDefinition DataField="Id" Width="0" 
                   ComponentType="TextBlock"/>
                <MSU:MultiListboxColumnDefinition HeaderText="Shorts Directory" 
                 ContentVerticalAlignment="Center" ContentMargin="0,0,0,0"
                 DataField="DirectoryName,AutoFontWeight,AutoFontColor" Width="325" 
                 BoundTo="Text,FontWeight,Foreground" ComponentType="TextBlock"/>
                <MSU:MultiListboxColumnDefinition HeaderText="Number of Shorts" HeaderPadding="8,0,0,0"
                 ContentHorizontalAlignment="Center"  ContentMargin="0,0,0,0"
                 DataField="NumberOfShorts" Width="105" ComponentType="TextBlock"/>
                <MSU:MultiListboxColumnDefinition HeaderText="Title" Width="50" 
                    Style="{StaticResource ToggleSetEditStyle}" HeaderPadding="3,0,0,0"
                    Click="Title_ToggleButtonClick"
                    DataField="IsDescAvailable" ComponentType="ToggleButton"/>
                <MSU:MultiListboxColumnDefinition HeaderText="Desc" 
                    Width="50" Click="Desc_ToggleButtonClick"
                    Style="{StaticResource ToggleSetEditStyle}"
                    DataField="IsTitleAvailable" ComponentType="ToggleButton"/>
                <MSU:MultiListboxColumnDefinition HeaderText="Last Uploaded" 
                   ContentVerticalAlignment="Center"
                   ContentHorizontalAlignment="Center" ContentMargin="0,0,0,0"
                 DataField="LastUploadedFile" Width="88" ComponentType="TextBlock"/>
            </MSU:MultiListbox.ColumnDefinitions>
            <MSU:MultiListbox.ItemsContextMenu>
                <ContextMenu>
                    <MenuItem Header="Remove Selected Directories" Click="mnuRemoveSelected_Click"/>
                </ContextMenu>
            </MSU:MultiListbox.ItemsContextMenu>
        </MSU:MultiListbox>
        <Button Name="BtnClose" Content="Close" HorizontalAlignment="Right"
                Margin="0,0,6,4" VerticalAlignment="Bottom" Height="25" Width="94" Click="BtnClose_Click"/>
        <Button x:Name="BtnRunUploaders" Content="Run Uploader" HorizontalAlignment="Left"
            Margin="6,0,0,4" VerticalAlignment="Bottom" Height="25" Width="94" Click="BtnClose_Click"/>
        <TextBlock Name="Status" HorizontalAlignment="Left" Margin="121,0,0,10" TextWrapping="Wrap" 
                   Text="Status:" VerticalAlignment="Bottom" Width="94" Foreground="Red"/>
    </Grid>
</Window>
